/*!
 * jQuery ClassyLoader
 * vox.SPACE
 *
 * Written by Marius Stanciu - Sergiu <marius@vox.space>
 * Licensed under the MIT license https://vox.SPACE/LICENSE-MIT
 * Version 1.2.1
 *
 */!function(e){e.fn.ClassyLoader=function(t){function i(e){return Math.PI/180*e}var n={width:200,height:200,animate:!0,displayOnLoad:!0,displayPercentSymbol:!1,currentValue:100,maxValue:100,percentage:100,speed:1,roundedLine:!1,showRemaining:!0,fontFamily:"Helvetica",fontSize:"50px",showText:!0,diameter:80,fontColor:"rgba(25, 25, 25, 0.6)",lineColor:"rgba(55, 55, 55, 1)",remainingLineColor:"rgba(55, 55, 55, 0.4)",lineWidth:5,start:"left"};"undefined"!=typeof t.percentage&&(t.maxValue=100,t.currentValue=t.percentage,t.displayPercentSymbol=!0),t=e.extend({},n,t);var r=e(this);return this.draw=function(e){"undefined"!=typeof e&&(t.percentage=e);var n=r[0].getContext("2d"),a=r.width()/2,o=r.height()/2,l=100,h=0,s=0,c=100/t.maxValue,d=0,u=function(e){var t=i(360)/l;return t*e};n.scale(1,1),n.lineWidth=t.lineWidth,n.strokeStyle=t.lineColour;var f=function(e,i,l){switch(i=i||u(h),l=l||u(h+1),n.clearRect(0,0,r.width(),r.height()),t.showRemaining===!0&&(n.beginPath(),n.strokeStyle=t.remainingLineColor,n.arc(a,o,t.diameter,0,360),n.stroke(),n.closePath()),n.strokeStyle=t.lineColor,n.beginPath(),n.lineCap=t.roundedLine===!0?"round":"butt",t.start){case"top":d=1.5*Math.PI;break;case"bottom":d=.5*Math.PI;break;case"right":d=1*Math.PI;break;case"left":default:d=0}if(n.arc(a,o,t.diameter,d,l+d),n.stroke(),n.closePath(),t.showText===!0){n.fillStyle=t.fontColor,n.font=t.fontSize+" "+t.fontFamily,n.textAlign="center",n.textBaseline="middle";var s=t.displayPercentSymbol?e+"%":e;n.fillText(s,a,o)}};setTimeout(function g(){f(h+1,u(s),u(s+c)),h+=1,s+=c,h<t.currentValue&&setTimeout(g,t.speed)},t.speed)},this.setPercent=function(e){return t.percentage=e,this},this.getPercent=function(){return t.percentage},this.show=function(){var e=r[0].getContext("2d"),n=r.width()/2,a=r.height()/2;e.scale(1,1),e.lineWidth=t.lineWidth,e.strokeStyle=t.lineColour,e.clearRect(0,0,r.width(),r.height()),e.strokeStyle=t.lineColor,e.beginPath(),e.arc(n,a,t.diameter,0,i(t.percentage/100*360)),e.stroke(),e.closePath(),t.showText===!0&&(e.fillStyle=t.fontColor,e.font=t.fontSize+" "+t.font,e.textAlign="center",e.textBaseline="middle",e.fillText(t.percentage+"%",n,a)),t.showRemaining===!0&&(e.beginPath(),e.strokeStyle=t.remainingLineColor,e.arc(n,a,t.diameter,0,360),e.stroke(),e.closePath())},this.__constructor=function(){return e(this).attr("width",t.width),e(this).attr("height",t.height),t.displayOnLoad===!0&&(t.animate===!0?this.draw():this.show()),this},this.__constructor()}}(jQuery);